{"version":3,"sources":["script.js"],"names":["buttons","digit","document","querySelectorAll","operator","clear","querySelector","neg","equals","mainDisplay","helperDisplay","newCalculation","handleDigit","textContent","length","Number","includes","handleOperator","toggleNegative","startsWith","slice","calculate","op","num1","num2","result","doMaths","output","formatResult","num","toFixed","replace","forEach","addEventListener"],"mappings":"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","file":"app.js","sourcesContent":["const buttons = {\r\n  digit: document.querySelectorAll('button.digit'),\r\n  operator: document.querySelectorAll('button.operator'),\r\n  clear: document.querySelector('button.clear'),\r\n  neg: document.querySelector('button.neg'),\r\n  equals: document.querySelector('button.equals')\r\n};\r\n\r\nconst mainDisplay = document.querySelector('.main-display');\r\nconst helperDisplay = document.querySelector('.helper-display');\r\nlet newCalculation = true;\r\n\r\nfunction handleDigit() {\r\n  if (mainDisplay.textContent.length > 11) return;\r\n  if (Number(mainDisplay.textContent) === 0 || newCalculation) {\r\n    mainDisplay.textContent = this.textContent;\r\n  } else if (this.textContent === '.' && mainDisplay.textContent.includes('.')) {\r\n    return;\r\n  } else {\r\n    mainDisplay.textContent += this.textContent;\r\n  }\r\n  newCalculation = false;\r\n}\r\n\r\nfunction handleOperator() {\r\n  newCalculation = false;\r\n  helperDisplay.textContent = `${mainDisplay.textContent} ${this.textContent}`;\r\n  mainDisplay.textContent = '';\r\n}\r\n\r\nfunction clear() {\r\n  mainDisplay.textContent = 0;\r\n  helperDisplay.textContent = '';\r\n}\r\n\r\nfunction toggleNegative() {\r\n  newCalculation = false;\r\n\r\n  if (mainDisplay.textContent.startsWith('-')) {\r\n    mainDisplay.textContent = `${mainDisplay.textContent.slice(1, 11)}`;\r\n  } else {\r\n    mainDisplay.textContent = `-${mainDisplay.textContent.slice(0, 10)}`;\r\n  }\r\n}\r\n\r\nfunction calculate() {\r\n  // Nothing to calculate\r\n  if (helperDisplay.textContent === '') {\r\n    newCalculation = true;\r\n    return;\r\n  }\r\n\r\n  const op = helperDisplay.textContent.slice(-1);\r\n  const num1 = Number(helperDisplay.textContent.slice(0, -2));\r\n  const num2 = Number(mainDisplay.textContent);\r\n\r\n  // Divide by zero error\r\n  if (op === '/' && num2 === 0) {\r\n    helperDisplay.textContent = '';\r\n    mainDisplay.textContent = 'Error';\r\n    newCalculation = true;\r\n    return;\r\n  }\r\n\r\n  const result = doMaths(op, num1, num2);\r\n  const output = formatResult(result);\r\n\r\n  helperDisplay.textContent = '';\r\n  mainDisplay.textContent = output;\r\n  newCalculation = true;\r\n}\r\n\r\nfunction doMaths(op, num1, num2) {\r\n  let result;\r\n  if (op === '+') {\r\n    result = num1 + num2;\r\n  } else if (op === '-') {\r\n    result = num1 - num2;\r\n  } else if (op === 'Ã—') {\r\n    result = num1 * num2;\r\n  } else if (op === '/') {\r\n    result = num1 / num2;\r\n  } else if (op === '%') {\r\n    result = num1 * (num2 / 100);\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction formatResult(num) {\r\n  return num\r\n    .toFixed(11) // To string, not too long, properly rounded\r\n    .replace(/0+$/, '') // Remove any trailing zeroes\r\n    .replace(/\\.$/, ''); // Remove trailing period\r\n}\r\n\r\nbuttons.digit.forEach(num => num.addEventListener('click', handleDigit));\r\nbuttons.operator.forEach(op => op.addEventListener('click', handleOperator));\r\nbuttons.clear.addEventListener('click', clear);\r\nbuttons.neg.addEventListener('click', toggleNegative);\r\nbuttons.equals.addEventListener('click', calculate);"]}