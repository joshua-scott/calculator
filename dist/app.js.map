{"version":3,"sources":["script.js"],"names":["buttons","digit","document","querySelectorAll","operator","clear","querySelector","neg","equals","mainDisplay","helperDisplay","newCalculation","handleDigit","textContent","length","Number","includes","handleOperator","toggleNegative","slice","calculate","op","num1","num2","console","log","result","output","formatResult","num","toFixed","replace","forEach","addEventListener"],"mappings":"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","file":"app.js","sourcesContent":["const buttons = {\r\n  digit: document.querySelectorAll('button.digit'),\r\n  operator: document.querySelectorAll('button.operator'),\r\n  clear: document.querySelector('button.clear'),\r\n  neg: document.querySelector('button.neg'),\r\n  equals: document.querySelector('button.equals')\r\n};\r\n\r\nconst mainDisplay = document.querySelector('.main-display');\r\nconst helperDisplay = document.querySelector('.helper-display');\r\nlet newCalculation = true;\r\n\r\nfunction handleDigit() {\r\n  if (mainDisplay.textContent.length > 11) return;\r\n  if (Number(mainDisplay.textContent) === 0 || newCalculation) {\r\n    mainDisplay.textContent = this.textContent;\r\n  } else if (this.textContent === '.' && mainDisplay.textContent.includes('.')) {\r\n    return;\r\n  } else {\r\n    mainDisplay.textContent += this.textContent;\r\n  }\r\n  newCalculation = false;\r\n}\r\n\r\nfunction handleOperator() {\r\n  newCalculation = false;\r\n  helperDisplay.textContent = `${mainDisplay.textContent} ${this.textContent}`;\r\n  mainDisplay.textContent = '';\r\n}\r\n\r\nfunction clear() {\r\n  mainDisplay.textContent = 0;\r\n  helperDisplay.textContent = '';\r\n}\r\n\r\nfunction toggleNegative() {\r\n  newCalculation = false;\r\n  mainDisplay.textContent = `-${mainDisplay.textContent.slice(0, 10)}`;\r\n}\r\n\r\nfunction calculate() {\r\n\r\n  if (helperDisplay.textContent === '') {\r\n    newCalculation = true;\r\n    return;\r\n  }\r\n\r\n  const op = helperDisplay.textContent.slice(-1);\r\n\r\n  const num1 = Number(helperDisplay.textContent.slice(0, -2)) || 0;\r\n  const num2 = Number(mainDisplay.textContent);\r\n  console.log({\r\n    op,\r\n    num1,\r\n    num2\r\n  });\r\n\r\n  let result;\r\n\r\n  if (op === '+') {\r\n    result = num1 + num2;\r\n  } else if (op === '-') {\r\n    result = num1 - num2;\r\n  } else if (op === 'Ã—') {\r\n    result = num1 * num2;\r\n  } else if (op === '/') {\r\n    if (num2 === 0) {\r\n      helperDisplay.textContent = '';\r\n      mainDisplay.textContent = 'Error';\r\n      newCalculation = true;\r\n      return;\r\n    }\r\n    result = num1 / num2;\r\n  } else if (op === '%') {\r\n    result = num1 * (num2 / 100);\r\n  }\r\n\r\n  console.log({\r\n    result\r\n  });\r\n  const output = formatResult(result);\r\n  console.log({\r\n    output\r\n  });\r\n\r\n  helperDisplay.textContent = '';\r\n  mainDisplay.textContent = output;\r\n  newCalculation = true;\r\n}\r\n\r\nfunction formatResult(num) {\r\n  // Convert to string, max of 11 digits, properly rounded\r\n  let output = num.toFixed(11);\r\n  // Remove any trailing zeroes, if they exist\r\n  output = output.replace(/0+$/, '');\r\n  // Remove trailing period, if it exists\r\n  output = output.replace(/\\.$/, '');\r\n  return output;\r\n}\r\n\r\nbuttons.digit.forEach(num => num.addEventListener('click', handleDigit));\r\nbuttons.operator.forEach(op => op.addEventListener('click', handleOperator));\r\nbuttons.clear.addEventListener('click', clear);\r\nbuttons.neg.addEventListener('click', toggleNegative);\r\nbuttons.equals.addEventListener('click', calculate);"]}